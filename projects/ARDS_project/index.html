<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Stability SOS | Khai Nguyen </title> <meta name="author" content="Khai Nguyen"> <meta name="description" content="CMU 16-715: Advanced Robot Dynamics &amp; Simulation - Fall 22.&lt;br&gt;ðŸ†˜ Stability Verification Using Sum-of-Squares Programming"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/favicon-1024.png?5302343bab5aea09f0f1ad5592fe9d06"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://xkhainguyen.github.io/projects/ARDS_project/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Khai</span> Nguyen </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">projects <span class="sr-only">(current)</span> </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Stability SOS</h1> <p class="post-description">CMU 16-715: Advanced Robot Dynamics &amp; Simulation - Fall 22.<br>ðŸ†˜ Stability Verification Using Sum-of-Squares Programming</p> </header> <article> <p>This is my project within the course <a href="https://github.com/dynamics-simulation-16-715" rel="external nofollow noopener" target="_blank">16-715: Advanced Robot Dynamics &amp; Simulation</a> at Carnegie Mellon University in Fall 2022 semester. Some key points:</p> <p>Stability Verification via SOS | Python, Drake, Mosek | [<a href="/assets/ards/F22_ARDS_Report.pdf">pdf</a>] [<a href="https://docs.google.com/presentation/d/1_4_3-siBjZcEE_0RPOMISLzRe4aqkGiOhhM8N28gGm0/edit?usp=sharing" rel="external nofollow noopener" target="_blank">slides</a>]</p> <ul> <li>Verified the Lyapunov stability of dynamical systems by formulating and solving sum-of-squares programs with Mosek, compared with Drake.</li> <li>Implemented and compared three different approaches; sample-based method gained tighter solution 30 times faster than standard one.</li> </ul> <hr> <p><strong>Abstract</strong>â€”We explore sampling-based sum-of-squares (SOS) programming as a technique to verify the stability of nonlinear systems. We provide a review of Lyapunov analysis, traditional SOS stability verification, and sampling-based SOS verification, then apply these methods to two nonlinear systems. We demonstrate that sampling-based SOS verification offers significant advantages over the traditional formulation in terms of problem size and the amount of time required to obtain a solution. The code for this project is available at <a href="https://github.com/EpicDuckPotato/final_project_16715.git" rel="external nofollow noopener" target="_blank">link</a>.</p> <hr> <p><span style="color:blue"> For more details, please check our report.</span></p> <h2 id="introduction">Introduction</h2> <p>Deploying robots into dangerous environments and environments with humans requires ensuring that their operation is safe. One control-theoretic notion of safety is stabilityâ€“the property that within some range of operating conditions, the robot can be trusted to track desired trajectories or drive itself to a desired operating point. Recently, there has been a great deal of work in verifying stability using sum-or-squares (SOS) programming, which expresses Lyapunov stability conditions as nonnegativity conditions for sets of polynomials. A problem with the traditional SOS approach is its scalabiltiy to higher-dimensional systems, particularly due to its reliance on high-degree Lagrange multiplier polynomials for representing constraints, leading to large semidefinite programs. This is restrictive since there are many intriguing real-world applications that are far larger than 10-15 states, such as mechanical systems made up of several rigid bodies. Various techniques have been used to address this problem, e.g. DSOS and SDSOS programming.</p> <p>In this project, we examine a recent sampling-based method of SOS programming that addresses the scalability problem in <a href="https://groups.csail.mit.edu/robotics-center/public_papers/Shen20.pdf" rel="external nofollow noopener" target="_blank">[html]</a>, and compare it to the traditional SOS approach.</p> <h2 id="methods">Methods</h2> <h3 id="lyapunov-stability-analysis">Lyapunov Stability Analysis</h3> <p>Suppose we have the following autonomous dynamical system</p> \[\dot{x} = f(x)\] <p>and want to verify the asymptotic stability of the origin \(x = 0\). These dynamics might represent the closed-loop dynamics of a controller attempting to drive the systemâ€™s state to the origin. Lyapunov analysis proceeds by searching for a Lyapunov function V that satisfies the following two conditions:</p> \[V(x) &gt; 0, \dot{V}(x) &lt; 0\] <p>If such a function exists, then the origin x = 0 is asymptotically stable. For many systems, however, the origin is only stable within some region of attraction (ROA).</p> <h3 id="stability-verification-via-sum-of-squares-programming">Stability Verification via Sum-of-Squares Programming</h3> <p>SOS stability analysis makes the assumption that \(V\) and \(f\) are polynomial functions of x. In practice, we formulate candidate Lyapunov functions \(V\) using the systemâ€™s total energy or the value function of an LQR controller, which are already polynomial. If the dynamics \(f\) are not polynomial, we can approximate them as polynomial using a Taylor expansion.</p> <div class="row justify-content-sm-center"> <div class="col-sm-8 mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/ards/binary_search_sos.png" sizes="95vw"></source> <img src="/assets/ards/binary_search_sos.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Binary search with SOS program. </div> <h3 id="stability-verification-via-sampling-based-sum-of-squares-programming">Stability Verification via Sampling-based Sum-of-Squares Programming</h3> <p>Beside the popular SOS programming formulation described above, which is based on inequality implication (4), Sprocedure and multipliers, there is also an equality-constrained formulation. Define an <em>algebraic variety</em> as the set of solutions to a set of polynomial equations. The number of equations in the variety is the number of <em>components</em>. The core idea behind sampling-based SOS verification is that instead of solving the optimization problem for all real-valued \(x\), we only solve it at a set of numerical samples \(\{x_i\}\) in the algebraic variety.</p> <div class="row justify-content-sm-center"> <div class="col-sm-8 mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/ards/sampling_sos.png" sizes="95vw"></source> <img src="/assets/ards/sampling_sos.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Sampling-based SOS program. </div> <h2 id="results">Results</h2> <p>We verify both standard and sample-based methods derived above by comparing solve time and ROA values compared to ground truth which could be found by rolling out closed-loop system simulations. Van der Pol is a 2 state, degree 3 polynomial system.</p> <p>We first simulate the system on an interesting grid for a certain amount of time. In this way, stable states could be found within some tolerances. The result from simulationbased verification is described in the Figure. Intuitively, if one needs better quality ROA using simulation, the complexity would increase exponentially with respect to problem dimension, grid size and converging time. This is why SDP programs are preferred for this ROA application. While the standard SOS program is not trivial to set up, the samplingbased one is simpler but in need of an efficient sampling method. The samples must be well-distributed, generic and not close to zeros (trivial solution) to find a non-zero ROA. Both programs are solved with Mosek using a degree 4 candidate V , resulting in good approximations. If the degree of the candidate V is increased, tighter ROA approximations could be found.</p> <div class="row justify-content-sm-center"> <div class="col-sm-8 mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/ards/vanderpol_roa.png" sizes="95vw"></source> <img src="/assets/ards/vanderpol_roa.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="vanderpol roa" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Van der Pol ROA approximations. Both programs produce qualitatively similar results </div> <p>We also applied sampling-based SOS verification to an N-link cartpole. We assume that the cart, as well as all joints, except for the \(N\)th joint, are actuated, linearize the dynamics in the original coordinates, and design an infinite-horizon LQR controller \(\tau(q, v)\) to drive the full cartpole state, consisting of configuration and velocity, to zero. The trajectory induced by the controller from a perturbed initial condition, in the plane of the cart position and joint angle (\(N = 1\) here).</p> <div class="row justify-content-sm-center"> <div class="col-sm-8 mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/ards/cartpole.png" sizes="95vw"></source> <img src="/assets/ards/cartpole.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="cartpole" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Cartpole regulation to origin, shown in plane of cart position and joint angle </div> <h2 id="conclusions">Conclusions</h2> <p>In this project, we compared a recent sampling-based variant of SOS stability verification to a more traditional form of SOS stability verification, applied to a Van der Pol oscillator. Ground truth for the system was found by using simulationbased method. We found that the sampling-based variant produced a smaller program and took less time to solve. It may also provide less conservative ROA compared with the standard approach. We also applied sampling-based SOS verification to an N-link cartpole. Future directions of research include applying the sampling-based verification to higherdimensional systems. In particular, systems with contacts would be an interesting application, since they require many multipliers with the traditional SOS formulation, creating large SOS programs.</p> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> Â© Copyright 2025 Khai Nguyen. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> </body> </html>